!function(e){"use strict";void 0===e&&(e={}),void 0===e.performance&&(e.performance={}),e._perfRefForUserTimingPolyfill=e.performance,e.performance.userTimingJsNow=!1,e.performance.userTimingJsNowPrefixed=!1,e.performance.userTimingJsUserTiming=!1,e.performance.userTimingJsUserTimingPrefixed=!1,e.performance.userTimingJsPerformanceTimeline=!1,e.performance.userTimingJsPerformanceTimelinePrefixed=!1;var r,n,o=[],i=[],t=null;if("function"!=typeof e.performance.now){for(e.performance.userTimingJsNow=!0,i=["webkitNow","msNow","mozNow"],r=0;r<i.length;r++)if("function"==typeof e.performance[i[r]]){e.performance.now=e.performance[i[r]],e.performance.userTimingJsNowPrefixed=!0;break}var a=+new Date;e.performance.timing&&e.performance.timing.navigationStart?a=e.performance.timing.navigationStart:"undefined"!=typeof process&&"function"==typeof process.hrtime&&(a=process.hrtime(),e.performance.now=function(){var e=process.hrtime(a);return 1e3*e[0]+1e-6*e[1]}),"function"!=typeof e.performance.now&&(Date.now?e.performance.now=function(){return Date.now()-a}:e.performance.now=function(){return+new Date-a})}var f=function(){},m=function(){},c=[],p=!1,s=!1;if("function"!=typeof e.performance.getEntries||"function"!=typeof e.performance.mark){for("function"==typeof e.performance.getEntries&&"function"!=typeof e.performance.mark&&(s=!0),e.performance.userTimingJsPerformanceTimeline=!0,o=["webkit","moz"],i=["getEntries","getEntriesByName","getEntriesByType"],r=0;r<i.length;r++)for(n=0;n<o.length;n++)t=o[n]+i[r].substr(0,1).toUpperCase()+i[r].substr(1),"function"==typeof e.performance[t]&&(e.performance[i[r]]=e.performance[t],e.performance.userTimingJsPerformanceTimelinePrefixed=!0);f=function(e){c.push(e),"measure"===e.entryType&&(p=!0)};var u=function(){p&&(c.sort(function(e,r){return e.startTime-r.startTime}),p=!1)};if(m=function(e,n){for(r=0;r<c.length;)c[r].entryType===e&&(void 0===n||c[r].name===n)?c.splice(r,1):r++},"function"!=typeof e.performance.getEntries||s){var g=e.performance.getEntries;e.performance.getEntries=function(){u();var r=c.slice(0);return s&&g&&(Array.prototype.push.apply(r,g.call(e.performance)),r.sort(function(e,r){return e.startTime-r.startTime})),r}}if("function"!=typeof e.performance.getEntriesByType||s){var y=e.performance.getEntriesByType;e.performance.getEntriesByType=function(n){if(void 0===n||"mark"!==n&&"measure"!==n)return s&&y?y.call(e.performance,n):[];"measure"===n&&u();var o=[];for(r=0;r<c.length;r++)c[r].entryType===n&&o.push(c[r]);return o}}if("function"!=typeof e.performance.getEntriesByName||s){var l=e.performance.getEntriesByName;e.performance.getEntriesByName=function(n,o){if(o&&"mark"!==o&&"measure"!==o)return s&&l?l.call(e.performance,n,o):[];void 0!==o&&"measure"===o&&u();var i=[];for(r=0;r<c.length;r++)void 0!==o&&c[r].entryType!==o||c[r].name===n&&i.push(c[r]);return s&&l&&(Array.prototype.push.apply(i,l.call(e.performance,n,o)),i.sort(function(e,r){return e.startTime-r.startTime})),i}}}if("function"!=typeof e.performance.mark){for(e.performance.userTimingJsUserTiming=!0,o=["webkit","moz","ms"],i=["mark","measure","clearMarks","clearMeasures"],r=0;r<i.length;r++)for(n=0;n<o.length;n++)t=o[n]+i[r].substr(0,1).toUpperCase()+i[r].substr(1),"function"==typeof e.performance[t]&&(e.performance[i[r]]=e.performance[t],e.performance.userTimingJsUserTimingPrefixed=!0);var w={};"function"!=typeof e.performance.mark&&(e.performance.mark=function(r){var n=e.performance.now();if(void 0===r)throw new SyntaxError("Mark name must be specified");if(e.performance.timing&&r in e.performance.timing)throw new SyntaxError("Mark name is not allowed");w[r]||(w[r]=[]),w[r].push(n),f({entryType:"mark",name:r,startTime:n,duration:0})}),"function"!=typeof e.performance.clearMarks&&(e.performance.clearMarks=function(e){e?w[e]=[]:w={},m("mark",e)}),"function"!=typeof e.performance.measure&&(e.performance.measure=function(r,n,o){var i=e.performance.now();if(void 0===r)throw new SyntaxError("Measure must be specified");if(!n)return void f({entryType:"measure",name:r,startTime:0,duration:i});var t=0;if(e.performance.timing&&n in e.performance.timing){if("navigationStart"!==n&&0===e.performance.timing[n])throw new Error(n+" has a timing of 0");t=e.performance.timing[n]-e.performance.timing.navigationStart}else{if(!(n in w))throw new Error(n+" mark not found");t=w[n][w[n].length-1]}var a=i;if(o)if(a=0,e.performance.timing&&o in e.performance.timing){if("navigationStart"!==o&&0===e.performance.timing[o])throw new Error(o+" has a timing of 0");a=e.performance.timing[o]-e.performance.timing.navigationStart}else{if(!(o in w))throw new Error(o+" mark not found");a=w[o][w[o].length-1]}f({entryType:"measure",name:r,startTime:t,duration:a-t})}),"function"!=typeof e.performance.clearMeasures&&(e.performance.clearMeasures=function(e){m("measure",e)})}"function"==typeof define&&define.amd?define([],function(){return e.performance}):"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=e.performance)}("undefined"!=typeof window?window:void 0);